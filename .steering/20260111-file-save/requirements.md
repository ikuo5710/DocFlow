# 要求定義書

## 機能名
ファイル保存

## 概要
OCR処理後に編集したMarkdownテキストをファイルとして保存する機能を実装する。

## 背景
PRD（docs/product-requirements.md）の「6. ファイル保存」機能に対応。現在ParallelViewerの保存ボタンはTODOコメントで実装が保留されている。

## 要求事項

### 必須要件（PRDより）
1. マークダウンファイル(.md形式)として保存できる
2. 保存先のディレクトリを選択できる
3. ファイル名を指定できる（デフォルトは元ファイル名+"_ocr.md"）
4. 元ファイルとの関連付け情報を保存できる（メタデータとして）
5. 保存成功時に確認メッセージを表示する

### 追加要件
1. 保存処理中はUIをブロック（二重保存防止）
2. 保存エラー時は適切なエラーメッセージを表示
3. 未保存の変更がある場合にユーザーに警告

## ユーザーストーリー
個人ユーザーとして、編集したマークダウンテキストを保存するために、ファイル保存機能を使いたい

## 受け入れ条件
- [ ] 保存ボタンをクリックすると保存ダイアログが表示される
- [ ] ファイル名のデフォルト値は「{元ファイル名}_ocr.md」
- [ ] 任意のディレクトリを保存先として選択できる
- [ ] 保存成功時にトースト通知で確認メッセージを表示
- [ ] 保存処理中はボタンが無効化される
- [ ] 保存失敗時はエラーメッセージを表示

## 優先度
P0（必須）
