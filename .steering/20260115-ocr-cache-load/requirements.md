# 要求定義: OCR結果ファイル自動読み込み機能

## 目的

入力ファイルと同じフォルダ内に `<入力ファイル名>_ocr.md` が存在する場合、OCR APIをコールせずにそのMarkdownファイルを読み込んで右ペインに表示する。

## 背景

- 同じファイルを何度も開く際に、毎回OCR APIをコールするのは非効率
- 以前のOCR結果を再利用することでAPI呼び出しコストを削減
- ユーザーが手動で修正したOCR結果を保持・再利用可能にする

## 機能要件

### FR-1: OCR結果ファイルの自動検出

ファイルを開いた際に、同じディレクトリ内に以下の命名規則に従ったファイルが存在するかチェックする。

| 入力ファイル | 検索対象のOCR結果ファイル |
|-------------|-------------------------|
| `document.pdf` | `document.pdf_ocr.md` |
| `image.png` | `image.png_ocr.md` |
| `photo.jpg` | `photo.jpg_ocr.md` |

### FR-2: 既存ファイル読み込み動作

`_ocr.md` ファイルが存在する場合:
- OCR APIをコールしない
- 既存の `_ocr.md` ファイルの内容を右ペインのMarkdownエディタに表示
- ユーザーに「既存のOCR結果を読み込みました」等のToast通知を表示

### FR-3: 通常動作（既存ファイルなし）

`_ocr.md` ファイルが存在しない場合:
- 従来通りOCR APIをコールしてMarkdownを生成

### FR-4: 保存動作との整合性

保存時は従来通り `<入力ファイル名>_ocr.md` として保存（既存の動作を維持）

## 非機能要件

- ファイル存在チェックは高速に行う（100ms以内）
- エラー時は従来のOCR処理にフォールバック

## 受け入れ基準

- [ ] `_ocr.md` が存在する場合、OCR APIがコールされないこと
- [ ] `_ocr.md` の内容が正しく右ペインに表示されること
- [ ] `_ocr.md` が存在しない場合は従来通りOCR処理が実行されること
- [ ] 編集後の保存が正常に動作すること
- [ ] 単体テストが追加されていること

## 関連Issue

- GitHub Issue #5
