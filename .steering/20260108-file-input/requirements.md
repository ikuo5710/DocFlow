# Requirements - ファイル入力機能

作成日: 2026-01-08

## 概要

DocFlowアプリケーションのファイル入力機能を実装します。ユーザーがPDFおよび画像ファイル(JPEG、PNG)をドラッグ&ドロップまたはファイル選択ダイアログで読み込み、プレビュー表示できるようにします。

## 背景

DocFlowは紙文書やPDFをAIフレンドリーなマークダウン形式に変換するElectronアプリケーションです。その最初のステップとして、ユーザーが変換したいファイルを簡単に読み込める必要があります。PRDの「1. ファイル入力」(P0必須機能)として定義されています。

## 実装対象の機能

### 1. ファイル読み込み
- PDF形式のファイルを読み込める(複数ページ対応)
- 画像形式のファイルを読み込める(JPEG、PNG対応)
- 複数の画像ファイルを一度に読み込める

### 2. ユーザーインターフェース
- ドラッグ&ドロップでのファイル入力に対応
- ファイル選択ダイアログでの入力に対応

### 3. ファイルプレビュー
- 読み込んだファイルのプレビューを表示できる
- PDFの場合は最初のページをプレビュー表示
- 画像の場合はそのまま表示

## 受け入れ条件

### ファイル読み込み
- [ ] PDF形式(.pdf)のファイルを読み込める
- [ ] JPEG形式(.jpg, .jpeg)のファイルを読み込める
- [ ] PNG形式(.png)のファイルを読み込める
- [ ] 複数の画像ファイルを同時に読み込める
- [ ] 複数ページのPDFを読み込める

### ユーザーインターフェース
- [ ] ドラッグ&ドロップエリアが明確に表示される
- [ ] ドラッグ&ドロップでファイルを読み込める
- [ ] 「ファイルを選択」ボタンをクリックするとファイル選択ダイアログが開く
- [ ] ファイル選択ダイアログでファイルを選択できる

### ファイルプレビュー
- [ ] 読み込んだファイルのプレビューが表示される
- [ ] PDFの場合、最初のページがプレビュー表示される
- [ ] 画像の場合、画像がプレビュー表示される
- [ ] プレビューの表示倍率が適切(ウィンドウに収まる)

### エラーハンドリング
- [ ] サポート外の形式(.docx等)を読み込もうとした場合、エラーメッセージを表示
- [ ] 破損したファイルを読み込もうとした場合、エラーメッセージを表示
- [ ] ファイル読み込みに失敗した場合、ユーザーにわかりやすいエラーを表示

## 成功指標

- ファイル読み込み成功率: 99%以上(正常なPDF/画像ファイルの場合)
- ファイル読み込み時間: 10MBのPDFで3秒以内
- ユーザビリティ: 新規ユーザーが初回利用時に迷わずファイルを読み込める

## スコープ外

以下はこのフェーズでは実装しません:

- OCR処理機能(別タスクで実装)
- 並列ビューア機能(別タスクで実装)
- ページ/ファイル送り機能(別タスクで実装)
- マークダウン編集機能(別タスクで実装)
- ファイル保存機能(別タスクで実装)
- バッチ処理機能(Phase 2以降)

## 参照ドキュメント

- `docs/product-requirements.md` - プロダクト要求定義書 (特に「1. ファイル入力」セクション)
- `docs/ideas/initial-requirements.md` - 初期要件
