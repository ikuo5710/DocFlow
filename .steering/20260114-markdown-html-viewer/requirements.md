# 要求定義書: Markdown HTMLビューア機能

## 概要

MarkdownエディタにHTMLプレビュー機能を追加し、Markdownテキストをリアルタイムでレンダリング表示できるようにする。テキスト編集モードとビューアモードはトグルボタンで切り替え可能とする。

## 関連Issue

- GitHub Issue #3: Markdown HTMLビューア機能の追加（テキスト/ビューア切り替えトグル付き）

## 機能要件

### 1. 表示モード切り替え

- EditorToolbarにテキスト/ビューア切り替えトグルボタンを追加
- トグル状態: `text`（テキスト編集）/ `preview`（HTMLプレビュー）
- デフォルトは `text` モード
- キーボードショートカット: `Ctrl+Shift+P`（プレビュー切り替え）

### 2. HTMLビューア

- MarkdownをHTMLにパースしてレンダリング
- 対応するMarkdown構文:
  - 見出し（h1-h6）
  - 段落、改行
  - 強調（bold, italic, strikethrough）
  - リスト（順序付き、順序なし、ネスト）
  - コードブロック（シンタックスハイライト付き）
  - インラインコード
  - 引用（blockquote）
  - リンク
  - 画像（Base64埋め込み対応）
  - テーブル
  - 水平線

### 3. スタイリング

- プレビュー用CSSスタイルの適用
- コードブロックのシンタックスハイライト
- 適切なタイポグラフィ（フォント、行間、余白）

### 4. セキュリティ

- XSS攻撃防止のためHTMLサニタイズ必須
- DOMPurifyによるサニタイズ

## 非機能要件

- テストカバレッジ80%以上
- 切り替え時にコンテンツが失われない
- パフォーマンス: 大きなMarkdownでもスムーズに切り替え

## 受け入れ条件

1. トグルボタンでテキスト/プレビュー表示を切り替えられる
2. すべての基本Markdown構文が正しくレンダリングされる
3. コードブロックにシンタックスハイライトが適用される
4. XSS脆弱性がない（サニタイズ済み）
5. テストカバレッジ80%以上
6. 切り替え時にコンテンツが失われない
