# 要求内容

## 概要

PDFの複数ページや複数ファイル間をスムーズに移動できるナビゲーション機能を強化する。

## 背景

現在のParallelViewerには基本的なページナビゲーション（前/次ボタン、キーボードショートカット）が実装されているが、以下の課題がある:

1. **ページ切り替え時のMarkdown同期がない**: ページを切り替えてもMarkdownエディタの内容が変わらない
2. **複数ファイルの管理ができない**: 複数のPDF/画像を読み込んで切り替える機能がない
3. **ページごとのOCR結果管理がない**: 各ページのOCR結果を個別に保持していない

## 実装対象の機能

### 1. ページごとのMarkdown管理

- PDFの各ページに対応するMarkdownを個別に管理
- ページ切り替え時にMarkdownエディタの内容を同期
- 編集中の内容を保持し、ページ戻り時に復元

### 2. ファイルリスト管理

- 複数ファイルをファイルリストとして保持
- ファイル間のナビゲーション（前/次ファイル）
- 現在のファイルを視覚的に表示

### 3. ナビゲーションUIの強化

- ページジャンプ機能（直接ページ番号を入力）
- ファイル切り替えのUI
- 進捗表示（現在のファイル位置）

## 受け入れ条件

### ページごとのMarkdown管理

- [ ] PDFのページを切り替えるとMarkdownエディタの内容が対応するページのものに切り替わる
- [ ] 各ページで編集した内容はページを切り替えても保持される
- [ ] 画像ファイルの場合は単一ページとして扱う

### ファイルリスト管理

- [ ] 複数ファイルを読み込みファイルリストに追加できる
- [ ] ファイルリスト内のファイルをクリックして切り替えられる
- [ ] 現在表示中のファイルがハイライトされる

### ナビゲーションUIの強化

- [ ] ページ番号入力フィールドで直接ページにジャンプできる
- [ ] 複数ファイルがある場合、ファイル切り替えボタンが表示される
- [ ] キーボードショートカットが正しく動作する

## 成功指標

- ページ切り替え時のレスポンスが200ms以内
- ユーザーが迷わずナビゲーションできるUI

## スコープ外

以下はこのフェーズでは実装しません:

- ファイルのドラッグ&ドロップによる順序変更
- サムネイル表示によるページプレビュー
- ファイルのグループ化・フォルダ管理
- 自動保存機能

## 参照ドキュメント

- `docs/product-requirements.md` - プロダクト要求定義書
- `docs/functional-design.md` - 機能設計書
- `docs/architecture.md` - アーキテクチャ設計書
